(function(){"use strict";var e={2193:function(e,t,i){var n=i(9242),s=i(3396);const a={class:"content"};function o(e,t,i,n,o,l){const r=(0,s.up)("FilesView");return(0,s.wg)(),(0,s.iD)("main",a,[(0,s.Wm)(r)])}var l=i(6520),r=i(7139);const c=e=>((0,s.dD)("data-v-319da8a9"),e=e(),(0,s.Cn)(),e),h={class:"content"},u={class:"actions"},f={xmlns:"http://www.w3.org/2000/svg",width:"16.062",height:"16.062",viewBox:"0 0 16.062 16.062",fill:"currentColor","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"},d=c((()=>(0,s._)("path",{d:"M0 0h16.062v16.062H0z",fill:"none",opacity:".87"},null,-1))),p=c((()=>(0,s._)("path",{d:"M11.123 2.001a.836.836 0 00-1.185 0L4.377 7.563a.666.666 0 000 .944l5.557 5.561a.838.838 0 001.185-1.185l-4.841-4.85 4.856-4.854a.834.834 0 00-.011-1.178z"},null,-1))),w=[d,p],g={class:"listBlock"},v={class:"header"},m={class:"sectionTitles"},k=c((()=>(0,s._)("h1",{class:"mainTitle"},"File Manager",-1))),C={class:"currentPath"},F={key:0,class:"creationBlock"},_=["value"],b=c((()=>(0,s._)("span",{class:"buttonText"},"OK",-1))),N=[b],y=c((()=>(0,s._)("div",{class:"listTitles"},[(0,s._)("span",null,"Name"),(0,s._)("span",null,"Last modifying")],-1))),x={key:0,class:"list"},B=["onClick"],D={class:"name"},P={key:0,class:"lastModifiedAt"},L={key:1,xmlns:"http://www.w3.org/2000/svg",width:"18",height:"17.977",viewBox:"0 0 18 17.977",fill:"none",stroke:"currentColor","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"},O=c((()=>(0,s._)("path",{d:"M16.977 12.237a4.342 4.342 0 01-4.74 4.74h-6.49c-2.99 0-4.748-1.758-4.748-4.74v-6.5c0-2.982 1.1-4.74 4.078-4.74h1.667a1.9 1.9 0 011.522.761l.758 1.015a1.91 1.91 0 001.522.761h2.358c2.99 0 4.093 1.522 4.093 4.565z","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},null,-1))),j=[O],V=["onClick"],z={xmlns:"http://www.w3.org/2000/svg",width:"14.71",height:"16",viewBox:"0 0 14.71 16",fill:"currentColor","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"},Z=c((()=>(0,s._)("path",{d:"M13.892 3.2h-3.268v-.8A2.426 2.426 0 008.172 0H6.538a2.426 2.426 0 00-2.452 2.4v.8H.817a.8.8 0 100 1.6h.817v8.8A2.426 2.426 0 004.086 16h6.538a2.426 2.426 0 002.452-2.4V4.8h.817a.8.8 0 100-1.6zM5.72 2.4a.809.809 0 01.817-.8h1.634a.809.809 0 01.817.8v.8H5.72zm5.72 11.2a.809.809 0 01-.817.8H4.086a.809.809 0 01-.817-.8V4.8h8.172z"},null,-1))),M=[Z],H={class:"actions"},q={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor","svg-inline":"",class:(0,r.C_)("addIcon"),role:"presentation",focusable:"false",tabindex:"-1"},A=c((()=>(0,s._)("path",{d:"M1 9h6v6a1 1 0 002 0V9h6a1 1 0 000-2H9V1a1 1 0 00-2 0v6H1a1 1 0 000 2z"},null,-1))),E=[A];function T(e,t,i,n,a,o){return(0,s.wg)(),(0,s.iD)("section",h,[(0,s._)("div",u,[null!==e.parentPath?((0,s.wg)(),(0,s.iD)("button",{key:0,type:"button",class:"actionButton",onClick:t[0]||(t[0]=(...t)=>e.onBackButtonClick&&e.onBackButtonClick(...t))},[((0,s.wg)(),(0,s.iD)("svg",f,w))])):(0,s.kq)("",!0)]),(0,s._)("div",g,[(0,s._)("header",v,[(0,s._)("div",m,[k,(0,s._)("span",C,(0,r.zw)(e.currentPath),1)]),e.isCreatingNewFile?((0,s.wg)(),(0,s.iD)("div",F,[(0,s._)("input",{value:e.newFileName,onInput:t[1]||(t[1]=(...t)=>e.onNewFileNameChange&&e.onNewFileNameChange(...t)),class:(0,r.C_)([{isInvalid:!e.isNewFileNameValid},"input"])},null,42,_),(0,s._)("button",{type:"button",onClick:t[2]||(t[2]=(...t)=>e.submitNewFileName&&e.submitNewFileName(...t)),class:"createButton"},N)])):(0,s.kq)("",!0)]),y,e.isListEmpty?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("ul",x,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.files,(t=>((0,s.wg)(),(0,s.iD)("li",{key:t.id,class:"listItem"},[(0,s._)("button",{type:"button",class:(0,r.C_)(["card",t.is_directory?"isDirectory":"isFile"]),onClick:i=>e.onCardClick(t)},[(0,s._)("span",D,(0,r.zw)(t.name),1),t.is_directory?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("span",P,(0,r.zw)(e.formatDate(t.last_modified_at)),1)),t.is_directory?((0,s.wg)(),(0,s.iD)("svg",L,j)):(0,s.kq)("",!0)],10,B),(0,s._)("button",{type:"button",class:"deleteButton",onClick:i=>e.onDeleteButtonClick(t)},[((0,s.wg)(),(0,s.iD)("svg",z,M))],8,V)])))),128))]))]),(0,s._)("div",H,[e.isCreatingNewFile?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("button",{key:0,type:"button",onClick:t[3]||(t[3]=(...t)=>e.onCreateButtonClick&&e.onCreateButtonClick(...t)),class:"actionButton"},[((0,s.wg)(),(0,s.iD)("svg",q,E))]))])])}var I=i(2482),R=i(6265),K=i.n(R);class S{static _get(e,t,i){const n="https://localhost:7249",s=new URL(n);return s.pathname=e,s.searchParams.set(t,i),K().get(s.href,{headers:{Accept:"application/json"}})}static _post(e,t,i){const n="https://localhost:7249",s=new URL(n);return s.pathname=e,s.searchParams.set(t,i),K().post(s.href)}static fetchFiles(e){return S._get("/api/files/get-files","path",e)}static createFile(e){return S._post("/api/files/create-file","path",e)}static deleteFile(e){return S._post("/api/files/delete-file","path",e)}static executeFile(e){return S._post("/api/files/execute-file","path",e)}}const U="Ошибка сервера, возможно у вас нет прав для выполнения данного действия";class $ extends l.w3{constructor(...e){super(...e),(0,I.Z)(this,"currentPath","C:\\"),(0,I.Z)(this,"parentPath",null),(0,I.Z)(this,"files",[]),(0,I.Z)(this,"newFileName",null),(0,I.Z)(this,"isLoading",!1),(0,I.Z)(this,"isNewFileNameValid",!0),(0,I.Z)(this,"isCreatingNewFile",!1),(0,I.Z)(this,"isListEmpty",!0)}created(){this.fetchFiles()}fetchFiles(){this.isLoading||(this.isLoading=!0,S.fetchFiles(this.currentPath).then((e=>{this.files=e.data.files,this.isListEmpty=0===this.files.length,this.parentPath=e.data.parent_path})).catch((e=>console.error(U,e))).finally((()=>{this.isLoading=!1})))}formatDate(e){return new Date(e).toLocaleDateString()}onNewFileNameChange(e){const t=e.target.value;this.newFileName=t,this.isNewFileNameValid=null!==t&&""!==t}onBackButtonClick(){this.isLoading||null!==this.parentPath&&(this.currentPath=this.parentPath,this.isCreatingNewFile=!1,this.resetCreation(),this.fetchFiles())}onCardClick(e){this.isLoading||(e.is_directory?(this.currentPath=e.full_name,this.isCreatingNewFile=!1,this.resetCreation(),this.fetchFiles()):S.executeFile(e.full_name).catch((e=>console.error(U,e))))}onDeleteButtonClick(e){this.isLoading||S.deleteFile(e.full_name).then((()=>this.fetchFiles())).catch((e=>console.error(U,e)))}onCreateButtonClick(){this.isCreatingNewFile=!0,this.resetCreation()}submitNewFileName(){if(this.isNewFileNameValid&&null!==this.newFileName){const e=`${this.currentPath}\\${this.newFileName}`;S.createFile(e).then((()=>{this.fetchFiles()})).catch((e=>{console.error(U,e),this.isNewFileNameValid=!1}))}this.isCreatingNewFile=!1,this.resetCreation()}resetCreation(){this.isNewFileNameValid=!0,this.newFileName=null}}var W=i(89);const Y=(0,W.Z)($,[["render",T],["__scopeId","data-v-319da8a9"]]);var G=Y,J=function(e,t,i,n){var s,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(o=(a<3?s(o):a>3?s(t,i,o):s(t,i))||o);return a>3&&o&&Object.defineProperty(t,i,o),o};let Q=class extends l.w3{};Q=J([(0,l.Ei)({components:{FilesView:G}})],Q);var X=Q;const ee=(0,W.Z)(X,[["render",o]]);var te=ee,ie=i(9907);(0,ie.z)("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}}),(0,n.ri)(te).mount("#app")}},t={};function i(n){var s=t[n];if(void 0!==s)return s.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,i),a.exports}i.m=e,function(){var e=[];i.O=function(t,n,s,a){if(!n){var o=1/0;for(h=0;h<e.length;h++){n=e[h][0],s=e[h][1],a=e[h][2];for(var l=!0,r=0;r<n.length;r++)(!1&a||o>=a)&&Object.keys(i.O).every((function(e){return i.O[e](n[r])}))?n.splice(r--,1):(l=!1,a<o&&(o=a));if(l){e.splice(h--,1);var c=s();void 0!==c&&(t=c)}}return t}a=a||0;for(var h=e.length;h>0&&e[h-1][2]>a;h--)e[h]=e[h-1];e[h]=[n,s,a]}}(),function(){i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,{a:t}),t}}(),function(){i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};i.O.j=function(t){return 0===e[t]};var t=function(t,n){var s,a,o=n[0],l=n[1],r=n[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(s in l)i.o(l,s)&&(i.m[s]=l[s]);if(r)var h=r(i)}for(t&&t(n);c<o.length;c++)a=o[c],i.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return i.O(h)},n=self["webpackChunkfile_manager"]=self["webpackChunkfile_manager"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=i.O(void 0,[998],(function(){return i(2193)}));n=i.O(n)})();
//# sourceMappingURL=app.27529be6.js.map